#
# MailSlurp API
# MailSlurp is an API for sending and receiving emails from dynamically allocated email addresses. It's designed for developers and QA teams to test applications, process inbound emails, send templated notifications, attachments, and more.  ## Resources  - [Homepage](https://www.mailslurp.com) - Get an [API KEY](https://app.mailslurp.com/sign-up/) - Generated [SDK Clients](https://docs.mailslurp.com/) - [Examples](https://github.com/mailslurp/examples) repository
# Version: 6.5.2
# Contact: contact@mailslurp.dev
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

Representation of a webhook for an inbox. The URL specified will be using by MailSlurp whenever an email is received by the attached inbox. A webhook entity should have a URL that points to your server. Your server should accept HTTP/S POST requests and return a success 200. MailSlurp will retry your webhooks if they fail. See https://api.mailslurp.com/schemas/webhook-payload for the payload schema.

.PARAMETER Id
ID of the Webhook
.PARAMETER UserId
User ID of the Webhook
.PARAMETER BasicAuth
Does webhook expect basic authentication? If true it means you created this webhook with a username and password. MailSlurp will use these in the URL to authenticate itself.
.PARAMETER Name
Name of the webhook
.PARAMETER PhoneId
The phoneNumberId that the Webhook will be triggered by. If null then webhook triggered at account level or inbox level if inboxId set
.PARAMETER InboxId
The inbox that the Webhook will be triggered by. If null then webhook triggered at account level or phone level if phoneId set
.PARAMETER RequestBodyTemplate
Request body template for HTTP request that will be sent for the webhook. Use Moustache style template variables to insert values from the original event payload.
.PARAMETER Url
URL of your server that the webhook will be sent to. The schema of the JSON that is sent is described by the payloadJsonSchema.
.PARAMETER Method
HTTP method that your server endpoint must listen for
.PARAMETER PayloadJsonSchema
Deprecated. Fetch JSON Schema for webhook using the getJsonSchemaForWebhookPayload method
.PARAMETER CreatedAt
When the webhook was created
.PARAMETER UpdatedAt
No description available.
.PARAMETER EventName
Webhook trigger event name
.PARAMETER RequestHeaders
No description available.
.PARAMETER IgnoreInsecureSslCertificates
Should notifier ignore insecure SSL certificates
.PARAMETER UseStaticIpRange
Should notifier use static IP range when sending webhook payload
.OUTPUTS

WebhookDto<PSCustomObject>
#>

function Initialize-WebhookDto {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Id},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${UserId},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [Boolean]
        ${BasicAuth},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Name},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${PhoneId},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${InboxId},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${RequestBodyTemplate},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Url},
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("GET", "HEAD", "POST", "PUT", "PATCH", "DELETE", "OPTIONS", "TRACE")]
        [String]
        ${Method},
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${PayloadJsonSchema},
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${CreatedAt},
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true)]
        [System.DateTime]
        ${UpdatedAt},
        [Parameter(Position = 12, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("EMAIL_RECEIVED", "NEW_EMAIL", "NEW_CONTACT", "NEW_ATTACHMENT", "EMAIL_OPENED", "EMAIL_READ", "DELIVERY_STATUS", "BOUNCE", "BOUNCE_RECIPIENT", "NEW_SMS")]
        [String]
        ${EventName},
        [Parameter(Position = 13, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${RequestHeaders},
        [Parameter(Position = 14, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${IgnoreInsecureSslCertificates},
        [Parameter(Position = 15, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${UseStaticIpRange}
    )

    Process {
        'Creating PSCustomObject: maislurp-client-powershell => WebhookDto' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($Id -eq $null) {
            throw "invalid value for 'Id', 'Id' cannot be null."
        }

        if ($UserId -eq $null) {
            throw "invalid value for 'UserId', 'UserId' cannot be null."
        }

        if ($BasicAuth -eq $null) {
            throw "invalid value for 'BasicAuth', 'BasicAuth' cannot be null."
        }

        if ($Url -eq $null) {
            throw "invalid value for 'Url', 'Url' cannot be null."
        }

        if ($Method -eq $null) {
            throw "invalid value for 'Method', 'Method' cannot be null."
        }

        if ($PayloadJsonSchema -eq $null) {
            throw "invalid value for 'PayloadJsonSchema', 'PayloadJsonSchema' cannot be null."
        }

        if ($UpdatedAt -eq $null) {
            throw "invalid value for 'UpdatedAt', 'UpdatedAt' cannot be null."
        }


        $PSO = [PSCustomObject]@{
            "id" = ${Id}
            "userId" = ${UserId}
            "basicAuth" = ${BasicAuth}
            "name" = ${Name}
            "phoneId" = ${PhoneId}
            "inboxId" = ${InboxId}
            "requestBodyTemplate" = ${RequestBodyTemplate}
            "url" = ${Url}
            "method" = ${Method}
            "payloadJsonSchema" = ${PayloadJsonSchema}
            "createdAt" = ${CreatedAt}
            "updatedAt" = ${UpdatedAt}
            "eventName" = ${EventName}
            "requestHeaders" = ${RequestHeaders}
            "ignoreInsecureSslCertificates" = ${IgnoreInsecureSslCertificates}
            "useStaticIpRange" = ${UseStaticIpRange}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to WebhookDto<PSCustomObject>

.DESCRIPTION

Convert from JSON to WebhookDto<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

WebhookDto<PSCustomObject>
#>
function ConvertFrom-JsonToWebhookDto {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: maislurp-client-powershell => WebhookDto' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in WebhookDto
        $AllProperties = ("id", "userId", "basicAuth", "name", "phoneId", "inboxId", "requestBodyTemplate", "url", "method", "payloadJsonSchema", "createdAt", "updatedAt", "eventName", "requestHeaders", "ignoreInsecureSslCertificates", "useStaticIpRange")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        If ([string]::IsNullOrEmpty($Json) -or $Json -eq "{}") { # empty json
            throw "Error! Empty JSON cannot be serialized due to the required property 'id' missing."
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "id"))) {
            throw "Error! JSON cannot be serialized due to the required property 'id' missing."
        } else {
            $Id = $JsonParameters.PSobject.Properties["id"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "userId"))) {
            throw "Error! JSON cannot be serialized due to the required property 'userId' missing."
        } else {
            $UserId = $JsonParameters.PSobject.Properties["userId"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "basicAuth"))) {
            throw "Error! JSON cannot be serialized due to the required property 'basicAuth' missing."
        } else {
            $BasicAuth = $JsonParameters.PSobject.Properties["basicAuth"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "url"))) {
            throw "Error! JSON cannot be serialized due to the required property 'url' missing."
        } else {
            $Url = $JsonParameters.PSobject.Properties["url"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "method"))) {
            throw "Error! JSON cannot be serialized due to the required property 'method' missing."
        } else {
            $Method = $JsonParameters.PSobject.Properties["method"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "payloadJsonSchema"))) {
            throw "Error! JSON cannot be serialized due to the required property 'payloadJsonSchema' missing."
        } else {
            $PayloadJsonSchema = $JsonParameters.PSobject.Properties["payloadJsonSchema"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "createdAt"))) {
            throw "Error! JSON cannot be serialized due to the required property 'createdAt' missing."
        } else {
            $CreatedAt = $JsonParameters.PSobject.Properties["createdAt"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "updatedAt"))) {
            throw "Error! JSON cannot be serialized due to the required property 'updatedAt' missing."
        } else {
            $UpdatedAt = $JsonParameters.PSobject.Properties["updatedAt"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "name"))) { #optional property not found
            $Name = $null
        } else {
            $Name = $JsonParameters.PSobject.Properties["name"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "phoneId"))) { #optional property not found
            $PhoneId = $null
        } else {
            $PhoneId = $JsonParameters.PSobject.Properties["phoneId"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "inboxId"))) { #optional property not found
            $InboxId = $null
        } else {
            $InboxId = $JsonParameters.PSobject.Properties["inboxId"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "requestBodyTemplate"))) { #optional property not found
            $RequestBodyTemplate = $null
        } else {
            $RequestBodyTemplate = $JsonParameters.PSobject.Properties["requestBodyTemplate"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "eventName"))) { #optional property not found
            $EventName = $null
        } else {
            $EventName = $JsonParameters.PSobject.Properties["eventName"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "requestHeaders"))) { #optional property not found
            $RequestHeaders = $null
        } else {
            $RequestHeaders = $JsonParameters.PSobject.Properties["requestHeaders"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "ignoreInsecureSslCertificates"))) { #optional property not found
            $IgnoreInsecureSslCertificates = $null
        } else {
            $IgnoreInsecureSslCertificates = $JsonParameters.PSobject.Properties["ignoreInsecureSslCertificates"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "useStaticIpRange"))) { #optional property not found
            $UseStaticIpRange = $null
        } else {
            $UseStaticIpRange = $JsonParameters.PSobject.Properties["useStaticIpRange"].value
        }

        $PSO = [PSCustomObject]@{
            "id" = ${Id}
            "userId" = ${UserId}
            "basicAuth" = ${BasicAuth}
            "name" = ${Name}
            "phoneId" = ${PhoneId}
            "inboxId" = ${InboxId}
            "requestBodyTemplate" = ${RequestBodyTemplate}
            "url" = ${Url}
            "method" = ${Method}
            "payloadJsonSchema" = ${PayloadJsonSchema}
            "createdAt" = ${CreatedAt}
            "updatedAt" = ${UpdatedAt}
            "eventName" = ${EventName}
            "requestHeaders" = ${RequestHeaders}
            "ignoreInsecureSslCertificates" = ${IgnoreInsecureSslCertificates}
            "useStaticIpRange" = ${UseStaticIpRange}
        }

        return $PSO
    }

}

